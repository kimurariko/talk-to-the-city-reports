"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[225],{5225:function(e,t,s){s.d(t,{Z:function(){return components_Report}});var n=s(5893),l=s(7294);let i=["#8a2be2","#ff69b4","#1e90ff","#008080","#00d3d3","#cdcd00","#ffa500","#ff0000","#008000","#ff4500","#32cd32","#ff1493","#9932cc","#20b2aa","#ff6347","#4169e1","#2e8b57","#8b4513","#00ffff","#ffd700","#4b0082","#ff8c00","#dc143c","#556b2f"];var hooks_useClusterColor=e=>{let t=(0,l.useMemo)(()=>{let t={};return e.forEach((e,s)=>{t[e]=i[s%i.length]}),t},[e]);return(0,l.useCallback)((e,s)=>s&&s!==e?"lightgray":t[e],[t])},a=s(6524);let o={};var hooks_useTranslatorAndReplacements=(e,t,s)=>{let[n,i]=(0,l.useState)(0),r=(0,l.useMemo)(()=>{let t=null==e?void 0:e.translation,s=(null==t?void 0:t.languages)||[],n=(null==t?void 0:t.flags)||[];return[{name:"English",flag:"US"},...s.map((e,t)=>({name:e,flag:n[t]}))]},[]),c=(0,l.useMemo)(()=>"TW"===r[n].flag?a.dS({from:"cn",to:"twp"}):e=>e,[r[n].flag]),{replaceAll:u,manualChanges:d}=(0,l.useMemo)(()=>{var t;let n={},l=(null==e?void 0:null===(t=e.visualization)||void 0===t?void 0:t.replacements)||[],i=[],a=!0,replaceAll=e=>{if(0===l.length)return e;if(n[e])return n[e];let t=e;return l.forEach(e=>{let{replace:s,by:n}=e;t=t.split(s).join(n)}),a&&t!==e&&i.push({from:e,to:t}),n[e]=t,t};return s.forEach(e=>{replaceAll(e.cluster),replaceAll(e.takeaways||""),e.arguments.forEach(e=>{replaceAll(e.argument)})}),a=!1,{replaceAll,manualChanges:i}},[n]),m=(0,l.useCallback)(e=>{var s;if(!e)return e;if(0===n)return u(e);let l=null===(s=t[e])||void 0===s?void 0:s[n-1];return l||o[e]||(o[e]=!0,console.log('Missing translation for "'.concat(e,'"'))),c(u(l||e))},[n,u]);return{languages:r,setLangIndex:i,langIndex:n,t:m,manualChanges:d}};let ThumbUp=e=>{let{className:t}=e;return(0,n.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z"})})},ThumbDown=e=>{let{className:t}=e;return(0,n.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 15h2.25m8.024-9.75c.011.05.028.1.052.148.591 1.2.924 2.55.924 3.977a8.96 8.96 0 01-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398C20.613 14.547 19.833 15 19 15h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 00.303-.54m.023-8.25H16.48a4.5 4.5 0 01-1.423-.23l-3.114-1.04a4.5 4.5 0 00-1.423-.23H6.504c-.618 0-1.217.247-1.605.729A11.95 11.95 0 002.25 12c0 .434.023.863.068 1.285C2.427 14.306 3.346 15 4.372 15h3.126c.618 0 .991.724.725 1.282A7.471 7.471 0 007.5 19.5a2.25 2.25 0 002.25 2.25.75.75 0 00.75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 002.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384"})})};var components_VideoLink=e=>{let{video:t,timestamp:s,interview:l,showThumbnail:i,showVideo:a}=e;if(!t||!s||!l)return null;if(!t.includes("vimeo.com"))return console.error("Only Vimeo videos are supported at this time."),!1;let o=t.split("/"),r=o[o.length-1],[c,u,d]=s.split(":").map(Number);return(0,n.jsxs)("div",{className:"my-4",children:[(i||a)&&(0,n.jsx)("div",{className:"text-sm font-semibold mb-1",children:"Source video:"}),i&&(0,n.jsx)("img",{className:"mt-2",width:"320",height:"240",src:"https://vumbnail.com/".concat(r,".jpg"),alt:""}),a&&(0,n.jsx)("iframe",{src:"https://player.vimeo.com/video/".concat(r,"#t=").concat(3600*c+60*u+d,"s"),width:"320",height:"240",allow:"autoplay; fullscreen; picture-in-picture"})]})},components_Tooltip=e=>{let{point:t,dimensions:s,expanded:i,zoom:a,fullScreen:o,translator:r}=e,{scaleX:c,scaleY:u,width:d,height:m}=s,[h,p]=(0,l.useState)(!1),{zoomX:x,zoomY:g}=a,f=x(c(t.x)),v=g(u(t.y)),{t:j}=r,k={};return k=o?i?{...f>d/2?{right:d-f}:{left:f},top:0,height:s.height-40,overflowY:"auto"}:{...f>d/2?{right:d-f}:{left:f},...v>m/2?{bottom:m-v}:{top:v},pointerEvents:"none"}:{left:d-20,top:-20,height:i?m:"auto",overflowY:i?"auto":"hidden"},(0,n.jsxs)("div",{className:"text-left absolute p-4 bg-blue-100 shadow-sm m-5 w-[430px] transition-all duration-300",style:k,children:[(0,n.jsx)("div",{className:"text-sm font-bold",style:{color:t.color},children:j(t.cluster)}),(0,n.jsx)("div",{className:"text-lg my-2",children:j(t.argument)}),(t.agrees||t.disagrees)&&(0,n.jsxs)("div",{className:"text-sm opacity-80 mb-2 font-bold",children:[(0,n.jsx)(ThumbUp,{className:"w-4 inline-block"})," ",t.agrees,(0,n.jsx)(ThumbDown,{className:"w-4 inline-block ml-3"}),"  ",t.disagrees]}),(0,n.jsx)(components_VideoLink,{...t,showVideo:!1,showThumbnail:!i}),i?(0,n.jsxs)("div",{children:[(0,n.jsx)(components_VideoLink,{...t,showVideo:!0,showThumbnail:!1}),(0,n.jsxs)("div",{className:"text-sm opacity-80 mt-2",children:[(0,n.jsxs)("span",{className:"font-semibold",children:[j(t.video?"Transcript":"Original comment"),":"]}),'"',t.comment.length>100&&!h?(0,n.jsxs)("span",{children:[t.comment.slice(0,200)+'..."',(0,n.jsx)("span",{className:"underline cursor-pointer",onClick:()=>p(!0),children:j("read more")})]}):t.comment+'"'," "]}),(0,n.jsx)("div",{className:"text-sm opacity-80 mt-2"}),(0,n.jsx)("div",{className:"text-xs opacity-50 italic mt-4",children:j("これを閉じるには、地図上の任意の場所をクリックしてください")})]}):(0,n.jsx)("div",{className:"text-xs opacity-50 italic",children:j(t.video?"Click on the dot to see original video and transcript":"Click on the dot for details")})]})};let getDimensions=(e,t,s)=>{console.log("getDimensions",window.innerWidth);let n=window.innerWidth<500?{width:window.innerWidth-100,height:window.innerWidth-100,padding:10}:{width:e||window.innerWidth,height:t||window.innerHeight,padding:s||30};return console.log(n),{...n,scaleX:e=>n.padding+e*(n.width-2*n.padding),scaleY:e=>n.padding+e*(n.height-2*n.padding)}};var useAutoResize=(e,t,s)=>{let[n,i]=(0,l.useState)(getDimensions(e,t,s));return(0,l.useEffect)(()=>{let update=()=>{i(getDimensions(e,t,s))};return window.addEventListener("resize",update),()=>{window.removeEventListener("resize",update)}},[]),n},hooks_useRelativePositions=e=>{let t=e.map(e=>e.arguments).flat(),s=t.map(e=>e.x),n=t.map(e=>e.y),l=Math.min(...s),i=Math.min(...n),a=Math.max(...s),o=Math.max(...n);return e.map(e=>{let t=e.arguments.map(e=>{let t=(e.x-l)/(a-l),s=(e.y-i)/(o-i);return{...e,x:t,y:s}});return{...e,arguments:t}})},r=s(8294),hooks_useVoronoiFinder=function(e,t,s,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:30;return(0,l.useMemo)(()=>{if(!i)return()=>null;let{width:l,height:c,scaleX:u,scaleY:d}=i,m=e.flatMap(e=>e.arguments.map(n=>({...n,...e,...t[n.comment_id],color:s(e.cluster_id)}))),h=(0,r.Z)({x:e=>u(e.x),y:e=>d(e.y),width:l,height:c})(m);return e=>{let t=e.target.getBoundingClientRect(),s=n.unZoomX(e.clientX-t.left),l=n.unZoomY(e.clientY-t.top),i=h.find(s,l,o);return a&&i&&i.data.cluster_id!==a?null:i}},[e,i])},hooks_useInferredFeatures=e=>(0,l.useMemo)(()=>{var t;let{config:s,comments:n}=e,l=n[Object.keys(n)[0]],i=(null===(t=s.translation)||void 0===t?void 0:t.languages)||[];return{dataHasVotes:l.hasOwnProperty("agrees"),hasTranslations:i.length>0}},[]),hooks_useZoom=(e,t)=>{let[s,n]=(0,l.useState)({scale:1,panx:0,pany:0}),[i,a]=(0,l.useState)(!1),[o,r]=(0,l.useState)({x:0,y:0}),[c,u]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!1),onWheel=e=>{if(!t||d)return;let l=e.target.getBoundingClientRect(),i=e.clientX-l.left,a=e.clientY-l.top,o=Math.max(.2,Math.min(5,s.scale-e.deltaY/1e3)),r=i-(i-s.panx)*(o/s.scale),c=a-(a-s.pany)*(o/s.scale);n({scale:o,panx:r,pany:c})},onMouseDown=e=>{if(!t||d)return;let s=e.target.getBoundingClientRect(),n=e.clientX-s.left,l=e.clientY-s.top;a(!0),r({x:n,y:l}),u(!1)},onMouseMove=(e,l)=>a=>{if(e(a),!t||d||!i)return;l();let c=a.target.getBoundingClientRect(),m=a.clientX-c.left,h=a.clientY-c.top,p=s.panx+(m-o.x),x=s.pany+(h-o.y);r({x:m,y:h}),u(!0),n({...s,panx:p,pany:x})},onMouseUp=e=>t=>{c||e(t),a(!1)},h=(1!=s.scale||0!=s.panx||0!=s.pany)&&(()=>{n({scale:1,panx:0,pany:0})});return{...s,events:e=>{let{onMove:t,onDrag:s,onClick:n}=e;return{onWheel,onMouseDown:onMouseDown,onMouseMove:onMouseMove(t,s),onMouseUp:onMouseUp(n)}},dragging:i,zoomX:e=>e*s.scale+s.panx,zoomY:e=>e*s.scale+s.pany,unZoomX:e=>(e-s.panx)/s.scale,unZoomY:e=>(e-s.pany)/s.scale,reset:h,disable:()=>m(!0),enable:()=>m(!1)}},hooks_useFilter=(e,t,s,n,i)=>{let a=(0,l.useCallback)(e=>{if(!i)return!0;let l=t[e.comment_id],a=l.agrees+l.disagrees,o=100*Math.max(l.agrees,l.disagrees)/a;return a>=s&&o>=n},[s,n]),o=(0,l.useMemo)(()=>{let t=0,s=0;return e.forEach(e=>e.arguments.forEach(e=>{t++,!a(e)&&s++})),{total:t,filtered:s}},[a]);return{filter:a,...o}};let mean=e=>e.reduce((e,t)=>e+t,0)/e.length,isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0;var components_Map=function(e){let{fullScreen:t,back:s,onlyCluster:i,comments:a,categoryLabel:o,translator:r,color:c}=e,{dataHasVotes:u}=hooks_useInferredFeatures(e),d=useAutoResize(e.width,e.height),m=hooks_useRelativePositions(e.clusters),h=hooks_useZoom(d,t),p=hooks_useVoronoiFinder(m,e.comments,c,h,d,i),[x,g]=(0,l.useState)(null),[f,v]=(0,l.useState)(!1),[j,k]=(0,l.useState)(!0),[w,b]=(0,l.useState)(!1),[y,N]=(0,l.useState)(0),[_,M]=(0,l.useState)(50),C=hooks_useFilter(m,a,y,_,u),[S,T]=(0,l.useState)(null);if(!d)return console.log("NO DIMENSIONS???"),(0,n.jsx)("div",{className:"m-auto bg-blue-50",style:{width:e.width,height:e.height}});let{scaleX:E,scaleY:z,width:D,height:R}=d,{t:Y}=r;return(0,n.jsxs)("div",{className:"m-auto relative bg-blue-50",style:{width:D,height:R,overflow:t?"hidden":"visible"},onMouseLeave:()=>{f||g(null)},children:[(0,n.jsx)("svg",{width:D,height:R,...isTouchDevice()?{}:h.events({onClick:e=>{if(x&&!f)v(!0),h.disable();else{var t;v(!1),g((null===(t=p(e))||void 0===t?void 0:t.data)||null),h.enable()}},onMove:e=>{if(!f){var t;g((null===(t=p(e))||void 0===t?void 0:t.data)||null)}},onDrag:()=>{g(null)}}),children:m.map(e=>e.arguments.filter(C.filter).map(t=>{let{arg_id:s,x:l,y:a,categoryLabel:o,kutikomi_unique:r,koushiki_unique:u}=t;return(0,n.jsx)("circle",{className:"pointer-events-none",id:s,cx:h.zoomX(E(l)),cy:h.zoomY(z(a)),fill:c(e.cluster_id,i),opacity:"kuchikomi"===S&&1===o?(null==x?void 0:x.arg_id)!==s?.2:1:"official"===S&&0===o?(null==x?void 0:x.arg_id)!==s?.2:1:"kuchikomi_unique"===S&&0===r?(null==x?void 0:x.arg_id)!==s?.2:1:"koushiki_unique"===S&&0===u?(null==x?void 0:x.arg_id)!==s?.2:1:f&&(null==x?void 0:x.arg_id)!==s?.3:1,r:(null==x?void 0:x.arg_id)===s?8:4},s)}))}),t&&j&&!h.dragging&&(0,n.jsx)("div",{children:m.map(e=>(0,n.jsx)("div",{className:"absolute opacity-90 bg-white p-2 max-w-lg rounded-lg pointer-events-none select-none transition-opacity duration-300",style:{transform:"translate(-50%, -50%)",left:h.zoomX(E(mean(e.arguments.map(e=>{let{x:t}=e;return t})))),top:h.zoomY(z(mean(e.arguments.map(e=>{let{y:t}=e;return t})))),color:c(e.cluster_id,i),opacity:f?.3:(null==x?void 0:x.cluster_id)==e.cluster_id?0:.85},children:Y(e.cluster)},e.cluster_id))}),x&&(0,n.jsx)(components_Tooltip,{point:x,dimensions:d,zoom:h,expanded:f,fullScreen:t,translator:r}),t&&(0,n.jsxs)("div",{className:"absolute top-0 left-0",children:[(0,n.jsxs)("button",{className:"m-2 underline",onClick:s,children:[" ",Y("Back to report")]}),(0,n.jsx)("button",{className:"m-2 underline",onClick:()=>k(e=>!e),children:j?Y("Hide labels"):Y("Show labels")}),(0,n.jsxs)("label",{className:"m-2 underline",children:[(0,n.jsx)("input",{type:"checkbox",checked:"kuchikomi"===S,onChange:()=>T("kuchikomi"===S?null:"kuchikomi")}),(0,n.jsx)("span",{className:"ml-2",children:"kuchikomi"===S?Y("口コミ情報を強調しない"):Y("口コミ情報を強調する")})]}),(0,n.jsxs)("label",{className:"m-2 underline",children:[(0,n.jsx)("input",{type:"checkbox",checked:"official"===S,onChange:()=>T("official"===S?null:"official")}),(0,n.jsx)("span",{className:"ml-2",children:"official"===S?Y("公式情報を強調しない"):Y("公式情報を強調する")})]}),(0,n.jsxs)("label",{className:"m-2 underline",children:[(0,n.jsx)("input",{type:"checkbox",checked:"kuchikomi_unique"===S,onChange:()=>T("kuchikomi_unique"===S?null:"kuchikomi_unique")}),(0,n.jsx)("span",{className:"ml-2",children:"kuchikomi_unique"===S?Y("口コミ情報独自性文章を強調しない"):Y("口コミ情報独自性文章を強調する")})]}),(0,n.jsxs)("label",{className:"m-2 underline",children:[(0,n.jsx)("input",{type:"checkbox",checked:"koushiki_unique"===S,onChange:()=>T("koushiki_unique"===S?null:"koushiki_unique")}),(0,n.jsx)("span",{className:"ml-2",children:"koushiki_unique"===S?Y("公式情報独自性文章を強調しない"):Y("公式情報独自性文章を強調する")})]}),h.reset&&(0,n.jsxs)("button",{className:"m-2 underline",onClick:h.reset,children:[" ",Y("Reset zoom")]}),u&&(0,n.jsx)("button",{className:"m-2 underline",onClick:()=>{b(e=>!e)},children:w?Y("Hide filters"):Y("Show filters")}),w&&(0,n.jsxs)("div",{className:"absolute w-[400px] top-12 left-2 p-2 border bg-white rounded leading-4",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("button",{className:"inline-block m-2 text-left",children:[Y("Votes")," ",">"," ",(0,n.jsx)("span",{className:"inline-block w-10",children:y})]}),(0,n.jsx)("input",{className:"inline-block w-[200px] mr-2",id:"min-votes-slider",type:"range",min:"0",max:"50",value:y,onInput:e=>{N(parseInt(e.target.value))}})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("button",{className:"inline-block m-2 text-left",children:[Y("Consensus")," ",">"," ",(0,n.jsxs)("span",{className:"inline-block w-10",children:[_,"%"]})]}),(0,n.jsx)("input",{className:"inline-block w-[200px] mr-2",id:"min-votes-slider",type:"range",min:"50",max:"100",value:_,onInput:e=>{M(parseInt(e.target.value))}})]}),(0,n.jsxs)("div",{className:"text-sm ml-2 mt-2 opacity-70",children:[Y("Showing")," ",C.filtered,"/",C.total," ",Y("arguments")]}),(0,n.jsxs)("div",{className:"text-sm ml-2 mt-2 opacity-70",children:[Y("Showing")," ",C.filtered,"/",C.total," ","kutikomi_unique"]})]})]})]})},components_Header=e=>{let{config:t}=e,{t:s,languages:l,langIndex:i,setLangIndex:a}=e.translator,{hasTranslations:o}=hooks_useInferredFeatures(e);return(0,n.jsx)("div",{className:"fixed top-0 w-full h-7 bg-gradient-to-r from-blue-900 to-white z-10 leading-7",children:(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("div",{className:"text-white mx-2",children:"大澤研究室 修論研究 木村莉子"})})})};let Section=e=>{let{name:t,target:s,small:l}=e,i="opacity-60 hover:opacity-100 cursor-pointer";return l&&(i+=" text-xs ml-2  max-w-xs  line-clamp-1 leading-6"),(0,n.jsx)("h2",{className:i,onClick:()=>{let e=document.getElementById(s);window.scrollTo({top:e.offsetTop-50,behavior:"smooth"})},children:t})};var components_Outline=e=>{let{clusters:t,translator:s}=e,{t:l}=s;return(0,n.jsx)("div",{className:"hidden xl:block fixed left-0 top-0 h-full text-left mt-8 opacity-40 hover:opacity-100 leading-10 transition-all",children:(0,n.jsxs)("div",{className:"text-left list-outside list-disc ml-2 mt-4",children:[(0,n.jsx)(Section,{name:l("Introduction"),target:"introduction"}),(0,n.jsx)(Section,{name:l("Clusters"),target:"clusters"}),t.map((e,t)=>(0,n.jsx)(Section,{small:!0,name:l(e.cluster),target:"cluster-"+e.cluster_id},t))]})})},c=s(3787),u=s.n(c);let d=new(u()).Converter;var components_Report=function(e){let[t,s]=(0,l.useState)(null),{config:i,clusters:a,translations:o,overview:r}=e,c=hooks_useClusterColor(a.map(e=>e.cluster_id)),u=(0,l.useRef)(0),m=hooks_useTranslatorAndReplacements(i,o,a),[h,p]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{p(!0)},[]),!h)return!1;let{t:x}=m,g=a.map(e=>e.arguments.length).reduce((e,t)=>e+t,0);return t?(0,n.jsx)(components_Map,{...e,color:c,translator:m,back:()=>{s(null),setTimeout(()=>window.scrollTo({top:u.current}),0)},fullScreen:!0,onlyCluster:"main"!==t?t:void 0}):(0,n.jsxs)("div",{className:"mt-9",children:[(0,n.jsx)(components_Outline,{clusters:a,translator:m})," ",(0,n.jsx)(components_Header,{...e,translator:m})," ",(0,n.jsxs)("div",{className:"text-center max-w-3xl m-auto py-8 px-5",style:{display:t?"none":"block"},children:[(0,n.jsx)("h2",{className:"text-xl my-3 font-bold",children:x(i.name)})," ",(0,n.jsx)("h1",{className:"text-3xl my-3 mb-10",children:x(i.question)})," ",(0,n.jsxs)("div",{id:"introduction",className:"my-4",children:[i.intro&&(0,n.jsx)("div",{className:"max-w-xl m-auto mb-4 text-justify italic",dangerouslySetInnerHTML:{__html:d.makeHtml(x(i.intro))}}),(0,n.jsxs)("div",{id:"big-map",children:[(0,n.jsx)(components_Map,{...e,translator:m,color:c,width:450,height:450})," ",(0,n.jsx)("button",{className:"my-2 underline",onClick:()=>{isTouchDevice()?alert("Our interactive maps are not yet available on touch devices. Please try again from a desktop computer."):(u.current=window.scrollY,s("main"))},children:x("Open full-screen map")})]}),(0,n.jsxs)("div",{id:"overview",className:"text-left font-bold my-3",children:[x("Overview"),":"]})," ",(0,n.jsx)("div",{className:"text-left",children:x(r)})," "]}),(0,n.jsx)("div",{id:"clusters",children:a.sort((e,t)=>t.arguments.length-e.arguments.length).map(t=>(0,n.jsxs)("div",{id:"cluster-".concat(t.cluster_id),children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold my-2 mt-12",style:{color:c(t.cluster_id)},children:x(t.cluster)})," ",(0,n.jsxs)("div",{className:"text-lg opacity-50 mb-3",children:["(",t.arguments.length," ",x("arguments"),",",Math.round(100*t.arguments.length/g),"% ",x("of total"),")"]})," ",(0,n.jsxs)("div",{className:"text-left font-bold my-3",children:[x("Cluster analysis"),":"]})," ",(0,n.jsx)("div",{className:"text-left",children:x(t.takeaways)})," ",(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsx)(components_Map,{...e,translator:m,color:c,width:350,height:350,onlyCluster:x(t.cluster_id)})," ",(0,n.jsx)("button",{className:"my-2 underline",onClick:()=>{isTouchDevice()?alert("Our interactive maps are not yet available on touch devices. Please try again from a desktop computer."):(u.current=window.scrollY,s(t.cluster_id))},children:x("Open full-screen map")})]}),(0,n.jsxs)("div",{className:"text-left font-bold my-3",children:[x("Representative comments"),":"]})," ",(0,n.jsx)("ul",{className:"text-left list-outside list-disc ml-6 ",children:t.arguments.sort((e,t)=>t.p-e.p).slice(0,5).map((e,t)=>(0,n.jsx)("li",{className:"italic",children:x(e.argument)},t))})]},t.cluster_id))})]})]})}}}]);